{"version":3,"file":"static/js/189.28a3454d.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.js","services/searchApi.js","components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.js","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport { NavLink } from 'react-router-dom';\n\n\nexport const List = styled.ul`\n  margin-top: 20px;\n  margin-left: 20px;\n  text-align: center;\n  \n`;\n\nexport const Movie = styled.li`\n  font-size: 20px;\n  font-weight: 500;\n  padding: 2px;\n`;\n\nexport const Link = styled(NavLink)`\n  color: black;\n  &:hover,\n  &:focus {\n    color: #13abde;\n    font-weight: 700;\n  }\n`;","import { useLocation } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\n\nimport { List, Movie, Link } from \"./MovieList.styled\"\n\n\n\nconst MovieList = ({ results  }) => {\n    const location = useLocation();\n    \n    return (\n        <>\n            <List>\n                {results.map(({ id, title }) => (\n                    <Movie key={id}>\n                        <Link to={`/movies/${id}`} state={{ from: location }}>\n                            {title ? title : \"There is no title\"}\n                        </Link>\n                    </Movie>\n                ))}\n            </List>\n        </>\n    )\n}\n\nMovieList.propTypes = {\n    results: PropTypes.arrayOf(\n        PropTypes.shape(\n             {\n       id: PropTypes.number,\n       title: PropTypes.string,\n    }\n         )\n        )\n   \n};\nexport default MovieList;","export async function getSearch(query) {\n  const key = 'f637ff1bcaf74a417438f57fb9f0b1d7';\n  const url = 'https://api.themoviedb.org/3/search/movie';\n  \n\n  const response = await fetch(`${url}?api_key=${key}&query=${query}&language=en-US&page=1&include_adult=fals`);\n  if (response.ok) {\n    const data = await response.json();\n\n  return data.results;\n  }\n  return Promise.reject(new Error(`Someting wrong`))\n\n};\n  \n\n","import styled from \"@emotion/styled\";\n\n\nexport const Input = styled.input`\n  width: 200px;\n  height: 40px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border: 3px solid rgb(178, 236, 249);\n  border-radius: 6px;\n  box-shadow: 0px 3px 3px rgb(178, 236, 249);\n  outline: none;\n  margin-right: 15px;\n  &:hover,\n  &:focus {\n    border-color: #13abde;\n  }\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: inherit;\n  font-size: 20px;\n  font-weight: 500;\n  background-color:rgb(178, 236, 249);\n  width: 120px;\n  height: 45px;\n  border-radius: 6px;\n  border: none;\n  cursor: pointer;\n    &:hover,\n    &:focus{\n        color: white;\n        background: linear-gradient(to right, #1488cc, #9d9da2);\n        transform: scale(1.2);\n  \n  }\n`;\n\nexport const InputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;","import { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport { toast } from \"react-toastify\"; \nimport { Input, Button, InputContainer } from './SearchBar.styled';\n\nconst SearchBar = () => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const [searchParams] = useSearchParams();\n\n    function onSubmitForm(event) {\n        event.preventDefault();\n        const value = event.target.elements.query.value;\n        \n        if (value === searchParams.get('query')) {\n        \n            toast.error(`The results of the query \"${value}\" are already available. \n            Please find the desired movie among the results or enter a new query`)\n        return\n        }\n        if (value === '') {\n            \n            toast.error(`Please enter a request`)\n        return\n        }\n           navigate({\n      ...location,\n      search: `query=${value}`,\n    });\n  }\n\n  return (\n    <>\n      <form onSubmit={onSubmitForm}>\n        <InputContainer>\n          <Input\n            type=\"text\"\n            name='query'\n            defaultValue={searchParams.get('query')}\n          />\n          <Button type='submit'>Search </Button>\n          </InputContainer>\n      </form>\n      </>\n  );\n}\nexport default SearchBar;","import styled from \"@emotion/styled\";\n\nexport const Title = styled.h1`\n  margin-top: 20px;\n  margin-left: 20px;`","import { useState, useEffect, } from \"react\";\nimport {useLocation} from \"react-router-dom\"\nimport Loader from \"components/Loader/Loader\"; \nimport { getSearch } from \"services/searchApi\";\nimport MovieList from \"components/MovieList/MovieList\";\nimport SearchBar from \"components/SearchBar/SearchBar\";\nimport { Title } from \"./Movies.styled\";\n\nconst Movies = () => {\n    const [results, setResults] = useState(null);\n    const [isLoading, setIsLoading] = useState(false)\n\n    const { search } = useLocation();\n    const query = new URLSearchParams(search).get('query') ?? '';\n\n       \n    useEffect(() => {\n        if (query !== '') {\n            setIsLoading(true);\n        \n            getSearch(query)\n                .then(setResults)\n                .catch(error => {\n                    Promise.reject(new Error(`${error.message}`))\n                })\n                .finally(setIsLoading(false))\n        }\n         return\n    }, [query]);\n    \n    return (\n        <>\n           \n        {isLoading && <Loader />}\n\n            <SearchBar />\n            {results && <Title>Results according to query \"{query}\"</Title>}\n        {results && <MovieList results={results} />}\n        </>\n    )\n}\nexport default Movies;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["List","styled","Movie","Link","NavLink","results","location","useLocation","map","id","title","to","state","from","query","fetch","response","ok","json","data","Promise","reject","Error","Input","Button","InputContainer","navigate","useNavigate","useSearchParams","searchParams","onSubmit","event","preventDefault","value","target","elements","get","search","toast","type","name","defaultValue","Title","useState","setResults","isLoading","setIsLoading","URLSearchParams","useEffect","getSearch","then","catch","error","message","finally","Loader","MovieList","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}